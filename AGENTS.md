# Repository Guidelines

## Project Structure & Module Organization
- `lib/` holds library code. Entry point is `lib/clementine.ex`, with core modules under `lib/clementine/` (agents, loop, tools, verifiers, and LLM integration under `lib/clementine/llm/`).
- `test/` contains ExUnit tests, with shared helpers in `test/support/` and top-level helpers in `test/test_helper.exs`.
- `config/` is for runtime configuration (`config/config.exs`).
- `docs/` contains documentation artifacts; `_build/` and `deps/` are generated by Mix.

## Build, Test, and Development Commands
- `mix deps.get` — fetch dependencies.
- `mix compile` — compile the library.
- `mix test` — run the ExUnit test suite.
- `mix format` — format all Elixir sources using `.formatter.exs`.
- `mix docs` — generate API docs (requires dev deps; writes to `doc/`).

## Coding Style & Naming Conventions
- Use `mix format` and follow Elixir defaults (2-space indentation, trailing commas in multi-line lists).
- Keep modules in `CamelCase` and files in `snake_case` (e.g., `Clementine.ToolRunner` in `lib/clementine/tool_runner.ex`).
- Prefer small, focused modules under `lib/clementine/` rather than large, monolithic files.

## Testing Guidelines
- Tests use ExUnit with Mox for mocks (`test/test_helper.exs`).
- Name test files `*_test.exs` and group by feature under `test/clementine/`.
- Run `mix test` locally before opening a PR; include tests for new tools, loop behavior, or LLM integrations.

## Commit & Pull Request Guidelines
- Commit messages are short, imperative, and sentence-cased (e.g., “Add streaming documentation”).
- PRs should include: a brief summary, rationale for the change, and testing notes (commands + results). Add docs updates when behavior changes (e.g., `README.md`).

## Configuration & Security Tips
- Store API keys via environment variables and reference them in config (`api_key: {:system, "ANTHROPIC_API_KEY"}`).
- Avoid committing secrets or generated artifacts (`_build/`, `deps/`).
